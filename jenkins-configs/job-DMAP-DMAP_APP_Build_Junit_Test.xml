<?xml version='1.1' encoding='UTF-8'?><flow-definition plugin="workflow-job@1145.v7f2433caa07f">  <actions>    <org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobAction plugin="pipeline-model-definition@1.7.1"/>    <org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobPropertyTrackerAction plugin="pipeline-model-definition@1.7.1">      <jobProperties>        <string>jenkins.model.BuildDiscarderProperty</string>      </jobProperties>      <triggers/>      <parameters>        <string>service_pack_location</string>        <string>Latest_dmap_image_version</string>        <string>Storage_Location</string>        <string>Build_Image</string>        <string>S3_Bucket</string>        <string>Blob_Storage</string>        <string>Build_Type</string>        <string>Service_pack_version</string>        <string>Java_Backend</string>        <string>Flask_Backend_branch</string>        <string>Change_in_binary_for</string>        <string>Minimum_dmap_image_version</string>        <string>sonarSeverities</string>        <string>Container_Name</string>        <string>docker_branch</string>        <string>sonarTypes</string>        <string>docker_image_version</string>        <string>docker_image</string>      </parameters>      <options/>    </org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobPropertyTrackerAction>  </actions>  <description>DMAP Application Migration Junit Unit and Report Generation Testing</description>  <keepDependencies>false</keepDependencies>  <properties>    <jenkins.model.BuildDiscarderProperty>      <strategy class="hudson.tasks.LogRotator">        <daysToKeep>-1</daysToKeep>        <numToKeep>10</numToKeep>        <artifactDaysToKeep>-1</artifactDaysToKeep>        <artifactNumToKeep>-1</artifactNumToKeep>      </strategy>    </jenkins.model.BuildDiscarderProperty>    <hudson.model.ParametersDefinitionProperty>      <parameterDefinitions>        <hudson.model.StringParameterDefinition>          <name>Java_Backend</name>          <description>Enter the name of the Java Backend branch</description>          <defaultValue>develop</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Flask_Backend_branch</name>          <description>Enter the name of the Backend branch</description>          <defaultValue>develop</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Container_Name</name>          <description>Enter the name of the container in lower case, example: you can put your name</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Build_Image</name>          <description>Enter the name of the docker build image which will be used to build binaries</description>          <defaultValue>ngdmapo/app_build:v1</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Service_pack_version</name>          <description>Enter the version of Service pack. Sample values will be like: 6.3.2.0</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Latest_dmap_image_version</name>          <description>Enter the latest version of DMAP image. Sample values be like:7.4.2.1</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Minimum_dmap_image_version</name>          <description>Enter the Minimum version of DMAP DB image to run current binaries. Sample values be like:7.4.2.1</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.ChoiceParameterDefinition>          <name>Change_in_binary_for</name>          <description>Select App or DB if there is binary change in App or DB respectively, select Both if there is binary change in Both (App and DB)</description>          <choices class="java.util.Arrays$ArrayList">            <a class="string-array">              <string>App</string>              <string>DB</string>              <string>Both</string>            </a>          </choices>        </hudson.model.ChoiceParameterDefinition>        <hudson.model.ChoiceParameterDefinition>          <name>Storage_Location</name>          <description>Enter the storage location to store Service pack which is either in S3 or BLOB</description>          <choices class="java.util.Arrays$ArrayList">            <a class="string-array">              <string>AWS_S3</string>              <string>Azure_Blob</string>              <string>Both</string>            </a>          </choices>        </hudson.model.ChoiceParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>S3_Bucket</name>          <description>Enter the S3 Bucket path for uploading the binaries. Sample values will be like dev: dmap-deployment/dev, qa: dmap-deployment/qa, prod: dmap-deployment/prod</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>Blob_Storage</name>          <description>Enter the Blob storage path for uploading the binaries. Sample values will be like dev: dmapextndevreleases, qa: dmapextnqareleases, prod: dmapextnreleases</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>sonarTypes</name>          <description>Enter the sonarQube issue types to certify the build</description>          <defaultValue>VULNERABILITY,BUG,CODE_SMELL</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>sonarSeverities</name>          <description>Enter the sonarQube issue severities to certify the build</description>          <defaultValue>CRITICAL,BLOCKER,MAJOR</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.ChoiceParameterDefinition>          <name>Build_Type</name>          <description>Select build type</description>          <choices class="java.util.Arrays$ArrayList">            <a class="string-array">              <string>Dev</string>              <string>QA</string>              <string>Prod</string>            </a>          </choices>        </hudson.model.ChoiceParameterDefinition>        <hudson.model.ChoiceParameterDefinition>          <name>docker_image</name>          <description>Select Docker Image name</description>          <choices class="java.util.Arrays$ArrayList">            <a class="string-array">              <string>dmap_app_migration_azure_blob_dev</string>              <string>dmap_app_migration_azure_blob_qa</string>              <string>dmap_app_migration_azure_blob_prod</string>              <string>dmap_aws_s3_prod</string>              <string>dmap_aws_s3_dev</string>              <string>dmap_aws_s3_qa</string>            </a>          </choices>        </hudson.model.ChoiceParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>docker_branch</name>          <description>Enter git branch to pull docker files</description>          <defaultValue>develop</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>docker_image_version</name>          <description>Enter the Docker Image version</description>          <defaultValue>v1.0.0.0</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>        <hudson.model.StringParameterDefinition>          <name>service_pack_location</name>          <description>Enter service pack location (S3/BLOB). It should be full path</description>          <trim>false</trim>        </hudson.model.StringParameterDefinition>      </parameterDefinitions>    </hudson.model.ParametersDefinitionProperty>  </properties>  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.82">    <script>pipeline {    agent any    environment {		BUILD_NAME = &quot;DMAP App Binary Build&quot;	   NOTIFYUSERS = &apos;rajivm@newtglobalcorp.com&apos;		//NOTIFYUSERS = &apos;dmap_dev@newtglobalcorp.com&apos;		BUILD_DETAILS = &quot;&lt;BR&gt;Job Name: ${env.JOB_NAME} &lt;BR&gt;Build Number: ${env.BUILD_NUMBER} &lt;BR&gt;Build URL: ${BUILD_URL}&quot;	}    parameters {        string(name: &apos;Java_Backend&apos;, defaultValue: &apos;develop&apos;, description: &apos;Enter the name of the Java Backend branch&apos;)        string(name: &apos;Flask_Backend_branch&apos;, defaultValue: &apos;develop&apos;, description: &apos;Enter the name of the Backend branch&apos;)	    string(name: &apos;Container_Name&apos;, defaultValue: &apos;&apos;, description: &apos;Enter the name of the container in lower case, example: you can put your name&apos;)        string(name: &apos;Build_Image&apos;, defaultValue: &apos;ngdmapo/app_build:v1&apos;, description: &apos;Enter the name of the docker build image which will be used to build binaries&apos;)        string(name: &apos;Service_pack_version&apos;, defaultValue: &apos;&apos;, description: &apos;Enter the version of Service pack. Sample values will be like: 6.3.2.0&apos;)        string(name: &apos;Latest_dmap_image_version&apos;, defaultValue: &apos;&apos;, description: &apos;Enter the latest version of DMAP image. Sample values be like:7.4.2.1&apos;)        string(name: &apos;Minimum_dmap_image_version&apos;, defaultValue: &apos;&apos;, description: &apos;Enter the Minimum version of DMAP DB image to run current binaries. Sample values be like:7.4.2.1&apos;)        choice(name: &apos;Change_in_binary_for&apos;, choices: [&apos;App&apos;, &apos;DB&apos;,&apos;Both&apos;], description: &apos;Select App or DB if there is binary change in App or DB respectively, select Both if there is binary change in Both (App and DB)&apos;)        choice(name: &apos;Storage_Location&apos;, choices: [&apos;AWS_S3&apos;, &apos;Azure_Blob&apos;,&apos;Both&apos;], description: &apos;Enter the storage location to store Service pack which is either in S3 or BLOB&apos;)		string(name: &apos;S3_Bucket&apos;, defaultValue: &apos;&apos;, description: &apos;Enter the S3 Bucket path for uploading the binaries. Sample values will be like dev: dmap-deployment/dev, qa: dmap-deployment/qa, prod: dmap-deployment/prod&apos;)		string(name: &apos;Blob_Storage&apos;, defaultValue: &apos;&apos;, description: &apos;Enter the Blob storage path for uploading the binaries. Sample values will be like dev: dmapextndevreleases, qa: dmapextnqareleases, prod: dmapextnreleases&apos;)        string(name: &apos;sonarTypes&apos;, defaultValue: &apos;VULNERABILITY,BUG,CODE_SMELL&apos;, description: &apos;Enter the sonarQube issue types to certify the build&apos;)        string(name: &apos;sonarSeverities&apos;, defaultValue: &apos;CRITICAL,BLOCKER,MAJOR&apos;, description: &apos;Enter the sonarQube issue severities to certify the build&apos;)        choice(name: &apos;Build_Type&apos;, choices: [&apos;Dev&apos;, &apos;QA&apos;, &apos;Prod&apos;], description: &apos;Select build type&apos;)        choice(name: &apos;docker_image&apos;, choices: [&apos;dmap_app_migration_azure_blob_dev&apos;,&apos;dmap_app_migration_azure_blob_qa&apos;,&apos;dmap_app_migration_azure_blob_prod&apos;,&apos;dmap_aws_s3_prod&apos;,&apos;dmap_aws_s3_dev&apos;, &apos;dmap_aws_s3_qa&apos;,], description: &apos;Select Docker Image name&apos;)	    string(name: &apos;docker_branch&apos;, defaultValue: &apos;develop&apos;, description: &apos;Enter git branch to pull docker files&apos;)        string(name: &apos;docker_image_version&apos;, defaultValue: &apos;v1.0.0.0&apos;, description: &apos;Enter the Docker Image version&apos;)        string(name: &apos;service_pack_location&apos;, defaultValue: &apos;&apos;, description: &apos;Enter service pack location (S3/BLOB). It should be full path&apos;)        }    options {        timestamps()        timeout(time: 5, unit: &apos;HOURS&apos;)        buildDiscarder(logRotator(numToKeepStr: &apos;10&apos;))    }    stages {        stage (&quot;Checkout Code &quot;) {			steps {			    			    dir(&quot;DMAP_Extension_Backend&quot;){			        deleteDir()					echo &quot;Checkout the DMAP_Extension code&quot;					git branch: Java_Backend, credentialsId: &apos;Kavya_1709&apos;, url: &apos;https://github.com/newtglobalgit/DMAP_Extension-Backend.git&apos;			            }			    dir(&quot;DMAP_Extension_flask&quot;){			        deleteDir()					echo &quot;Checkout the DMAP_Extension_flask code&quot;					git branch: Flask_Backend_branch, credentialsId: &apos;Kavya_1709&apos;, url: &apos;https://github.com/newtglobalgit/DMAP_Extension-Flask.git&apos;			             }			      }        }			stage (&quot;Sonar Analysis&quot;) {			steps{			    echo &quot;Flask sonar Analysis&quot;			    			    dir(&quot;DMAP_Extension_flask&quot;){    		       sh &quot;sonar-scanner \    				-Dsonar.projectKey=DMAP_Extension-Flask \    				-Dsonar.projectName=DMAP_Extension-Flask \    				-Dsonar.sources=. \    				-Dsonar.host.url=http://192.168.3.148:9000/sonarqube\    				-Dsonar.login=25534cb4ff60d377ca72aefd244d70eff8bfcf56 \    				-Dsonar.exclusions=Tests/**,Spark/**,ModularityTesting/Spark/**&quot;    			}                 echo &quot;Python sonar Analysis done&quot;			    				echo &quot;Java sonar Analysis&quot;							    dir(&quot;DMAP_Extension_Backend&quot;){                  sh &quot;mkdir /tmp/empty&quot;    		       sh &quot;sonar-scanner \    				-Dsonar.projectKey=DMAP-Extension-Backend \    				-Dsonar.projectName=DMAP-Extension-Backend \    				-Dsonar.language=java \    				-Dsonar.sources=src/main/java \    				-Dsonar.java.binaries=/tmp/empty \    				-Dsonar.host.url=http://192.168.3.148:9000/sonarqube\    				-Dsonar.login=25534cb4ff60d377ca72aefd244d70eff8bfcf56&quot;    			  sh &quot;rm -r /tmp/empty&quot;                }			    			}     					    }    }    post {        always {            emailext attachmentsPattern: &apos;DMAP_Extension_flask/AppBanditAnalysisReport.html,DMAP_Extension_Backend/snyk_report.html,DMAP_Extension_Backend/DMAP_App_Junit_CoverageReport.html,DMAP_Extension_Backend/DMAP_App_Junit_PassFailReport.html,DMAP_Extension_flask/SonarQube/App_Python_Sonar_Issues.xlsx,DMAP_Extension_flask/SonarQube/App_Java_Sonar_Issues.xlsx,DMAP_Extension_flask/ModularTestCoverageReport.html,DMAP_Extension_flask/ModularTestOutput.html&apos;,            subject: &quot;Jenkins Job Report For ${BUILD_NAME} - ${currentBuild.currentResult}&quot;,			body: &quot;BUILD DETAILS: ${BUILD_DETAILS} &lt;BR&gt; BUILD STATUS: ${currentBuild.currentResult}&quot;,			to: &quot;${NOTIFYUSERS}&quot;        }    }}</script>    <sandbox>true</sandbox>  </definition>  <triggers/>  <disabled>false</disabled></flow-definition>