<?xml version='1.1' encoding='UTF-8'?><flow-definition plugin="workflow-job@2.39">  <actions>    <org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobAction plugin="pipeline-model-definition@1.7.1"/>    <org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobPropertyTrackerAction plugin="pipeline-model-definition@1.7.1">      <jobProperties>        <string>jenkins.model.BuildDiscarderProperty</string>      </jobProperties>      <triggers/>      <parameters>        <string>branch</string>      </parameters>      <options/>    </org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobPropertyTrackerAction>  </actions>  <description></description>  <keepDependencies>false</keepDependencies>  <properties>    <jenkins.model.BuildDiscarderProperty>      <strategy class="hudson.tasks.LogRotator">        <daysToKeep>-1</daysToKeep>        <numToKeep>10</numToKeep>        <artifactDaysToKeep>-1</artifactDaysToKeep>        <artifactNumToKeep>-1</artifactNumToKeep>      </strategy>    </jenkins.model.BuildDiscarderProperty>    <hudson.model.ParametersDefinitionProperty>      <parameterDefinitions>        <hudson.model.StringParameterDefinition>          <name>branch</name>          <description>Enter the branch for the build</description>          <defaultValue>Barclay_Backend</defaultValue>          <trim>false</trim>        </hudson.model.StringParameterDefinition>      </parameterDefinitions>    </hudson.model.ParametersDefinitionProperty>  </properties>  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.82">    <script>pipeline {	 agent {        node {            label &apos;build_slave&apos;        }    }		environment {		APPLICATION_NAME = &quot;CAMPP_Backend&quot;		NOTIFYUSERS = &apos;sreem@newtglobalcorp.com,syed.h@newtglobalcorp.com,pranavkorde@newtglobal.com,pankajkumar@newtglobal.com&apos;		BUILD_DETAILS = &quot;&lt;BR&gt;Job Name: ${env.JOB_NAME} &lt;BR&gt;Build Number: ${env.BUILD_NUMBER} &lt;BR&gt;Build URL: ${BUILD_URL}&quot;	}		parameters {        string(name: &apos;branch&apos;, defaultValue: &apos;Barclay_Backend&apos;, description: &apos;Enter the branch for the build&apos;)	}		options {        timestamps()        timeout(time: 1, unit: &apos;HOURS&apos;)        buildDiscarder(logRotator(numToKeepStr: &apos;10&apos;))    }		stages {		stage (&quot;Checkout&quot;) {			steps {			    deleteDir()				echo &quot;Checkout the code&quot;				git branch: &quot;${params.branch}&quot;, credentialsId: &apos;newtglobaladmin&apos;, url: &apos;https://github.com/newtglobalgit/barclayspoc3.git&apos;			}		}				stage (&quot;Sonar_Analysis&quot;) {			steps{				echo &quot;Sonar Analysis has started&quot;				sh &quot;cd scanner; mvn sonar:sonar \				-Dsonar.projectKey=camp_backend \				-Dsonar.projectName=camp_backend \				-Dsonar.host.url=http://192.168.2.21:9000/sonarqube \				-Dsonar.java.binaries=. \				-Dsonar.login=25534cb4ff60d377ca72aefd244d70eff8bfcf56&quot;			}		}				stage (&quot;Build&quot;) {			steps {				echo &quot;Building the code&quot;				sh &quot;cd scanner; mvn clean install&quot;			}		}					stage (&quot;Nexus Upload&quot;){			steps {				echo &quot;Deploy Artifacts to Nexus&quot;				nexusPublisher nexusInstanceId: &apos;nexus&apos;, nexusRepositoryId: &apos;camp_backend&apos;, packages: [[$class: &apos;MavenPackage&apos;, mavenAssetList: [[classifier: &apos;&apos;, extension: &apos;&apos;, filePath: &apos;scanner/target/scanner-0.0.1-SNAPSHOT.jar&apos;]], mavenCoordinate: [artifactId: &apos;scanner&apos;, groupId: &apos;com&apos;, packaging: &apos;jar&apos;, version: &apos;0.0.1-SNAPSHOT&apos;]]]			}		}				stage (&quot;Deployment to server&quot;){			steps {				echo &quot;Deploy Artifacts to server&quot;				sshagent([&apos;deployment_ssh_key&apos;]) {					sh &apos;ssh root@3.133.35.8 &quot;rm -f /javabuild/scanner-0.0.1-SNAPSHOT.jar; rm -f /javabuild/spring.out&quot;&apos;					sh &apos;ssh root@3.133.35.8 &quot;cd /javabuild/; ./killjavaservice.sh; rm -rf killjava&quot;&apos;					sh &quot;scp -r scanner/target/scanner-0.0.1-SNAPSHOT.jar root@3.133.35.8:/javabuild/&quot;					sh &apos;ssh root@3.133.35.8 &quot;cd /javabuild/; nohup java -jar -Dspring.profiles.active=dev /javabuild/scanner-0.0.1-SNAPSHOT.jar &gt; /javabuild/spring.out 2&gt;&amp;1 &amp;&quot;&apos;			    }		    }		}	}			post {        always {            emailext subject: &quot;Jenkins Job Report For ${APPLICATION_NAME} - ${currentBuild.currentResult}&quot;,			body: &quot;BUILD DETAILS: ${BUILD_DETAILS}  &lt;BR&gt;BUILD STATUS: ${currentBuild.currentResult}&quot;,			to: &quot;${NOTIFYUSERS}&quot;        }    }}</script>    <sandbox>true</sandbox>  </definition>  <triggers/>  <disabled>false</disabled></flow-definition>